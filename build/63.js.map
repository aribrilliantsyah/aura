{"version":3,"sources":["../../src/pages/serial-number/serial-number.ts","../../src/pages/serial-number/serial-number.module.ts"],"names":[],"mappings":"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","file":"63.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events } from 'ionic-angular';\n\nimport { ProfileServiceProvider } from '../../providers/profile-service/profile-service';\nimport { LoadingServiceProvider } from '../../providers/loading-service/loading-service';\nimport { ToastServiceProvider } from '../../providers/toast-service/toast-service';\nimport { AlertServiceProvider } from '../../providers/alert-service/alert-service';\n\nimport { Storage } from '@ionic/storage';\n\nimport { Profile } from '../../models/profile.interface';\n/**\n * Generated class for the SerialNumberPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-serial-number',\n  templateUrl: 'serial-number.html',\n})\nexport class SerialNumberPage {\n\n  status: boolean = true;\n  serial: string = '';\n  token: string;\n  prof: Profile;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private profile: ProfileServiceProvider,\n    private toast: ToastServiceProvider,\n    private alert: AlertServiceProvider,\n    private loading: LoadingServiceProvider,\n    private storage: Storage,\n    private events: Events,\n  ) {\n    //middleware Auth \n    //this.auth.AuthCheck(this.token) \n  }\n\n  ionViewDidEnter() {\n    this.storage.get('token').then((token) => {\n      if(token != undefined || token != null){\n        this.token = token;\n        console.log('ini w',token)\n      }\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SerialNumberPage');\n  }\n\n\n  onKey(event: any){\n\n  \tlet length_otp = event.target.value.length;\n\n  \tif(length_otp == 8){\n  \t\tthis.status = false;\n  \t}\n\n  \tif(length_otp < 8){\n  \t\tthis.status = true;\n  \t}\n\n  }\n\n  verify(){\n    let loader = this.loading.show('loading ....');\n    loader.present().then(() => {\n      this.profile.verifyAccount(this.serial,this.token).subscribe((data) => this.verifySuccess(data,loader), error => this.verifyError(error,loader), () => this.saveDone());\n    })\n  }\n\n  private saveDone(){\n  }\n\n  private verifyError(error,l){\n    console.log(error)\n    l.dismiss().then(() => {\n      if (error.status == 422) {\n        this.alert.presentAlert(null,this.feedbackText(error.json()),'Close');\n      } else if (error.status == 400) {\n        this.toast.show(error.json().error);\n      } else {\n        this.toast.show('Server Error');\n      }\n    });\n  }\n\n  private verifySuccess(data,l){\n    l.dismiss().then(() => {\n      //update\n      this.profile.profileInfo(this.token).subscribe(data => this.events.publish('user:profile', data.data), error => console.log(error));\n      this.navCtrl.setRoot('HomePage');\n    });\n  }\n\n  private feedbackText(error){\n    let feedbackError = '<ion-list>';\n    for(let key in error){\n      for(let i = 0;i < error[key].length; i++){\n        feedbackError += '<ion-item> - '+error[key][i]+'</ion-item><br><br>';\n      }\n    }\n    feedbackError += '</ion-list>';\n\n    return feedbackError;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/serial-number/serial-number.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SerialNumberPage } from './serial-number';\nimport { BrMaskerModule } from 'brmasker-ionic-3';\n\n@NgModule({\n  declarations: [\n    SerialNumberPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SerialNumberPage),\n    BrMaskerModule\n  ],\n})\nexport class SerialNumberPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/serial-number/serial-number.module.ts"],"sourceRoot":""}