{"version":3,"sources":["../../src/pages/home/home.ts","../../src/pages/home/home.module.ts","../../src/components/elastic-header/elastic-header.module.ts","../../src/components/elastic-header/elastic-header.ts"],"names":[],"mappings":"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","file":"40.js","sourcesContent":["import { NewsServiceProvider } from './../../providers/news-service/news-service';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\n\r\nimport { IonicPage, NavController, NavParams, Events, Content, App } from 'ionic-angular';\r\n\r\nimport * as moment from 'moment';\r\n\r\nimport { Profile } from '../../models/profile.interface';\r\nimport { News } from './../../models/news.interface';\r\n\r\nimport { ModalServiceProvider } from '../../providers/modal-service/modal-service';\r\nimport { ProfileServiceProvider } from '../../providers/profile-service/profile-service';\r\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service';\r\nimport { LoadingServiceProvider } from '../../providers/loading-service/loading-service';\r\nimport { ToastServiceProvider } from '../../providers/toast-service/toast-service';\r\nimport { Promo } from '../../models/promo.interface';\r\n\r\n/**\r\n * Generated class for the ReservasiPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-home',\r\n    templateUrl: 'home.html',\r\n})\r\nexport class HomePage {\r\n    \r\n    active: boolean;\r\n    headerImage: any = \"\";\r\n\r\n    @ViewChild(Content)\r\n    content: Content;\r\n\r\n    profile: Profile;\r\n    promo: any;\r\n\r\n    public count: number = 0;\r\n    public errorsCount: number = 0;\r\n\r\n    page: number = 1;\r\n    NewsFeed: News[] = [];\r\n    maxPage: number;\r\n\r\n    constructor(\r\n        public navCtrl: NavController,\r\n        public navParams: NavParams,\r\n        private profileService: ProfileServiceProvider,\r\n        private auth: AuthServiceProvider,\r\n        private loading: LoadingServiceProvider,\r\n        private toast: ToastServiceProvider,\r\n        private NewsProv: NewsServiceProvider,\r\n        private storage: Storage,\r\n        private app: App,\r\n    ) {\r\n        this.promo = [\r\n            {\r\n                'img': 'assets/icon/contoh_promo.png',\r\n            }, \r\n            {\r\n                'img': 'assets/icon/contoh_promo.png',\r\n            }, \r\n            {\r\n                'img': 'assets/icon/contoh_promo_2.png',\r\n            }, \r\n            {\r\n                'img': 'assets/icon/contoh_promo.png',\r\n            }, \r\n            {\r\n                'img': 'assets/icon/contoh_promo.png',\r\n            }\r\n        ];\r\n\r\n        this.storage.get('user:profile').then((profile) => {\r\n           this.profile = profile; \r\n        });\r\n\r\n    }\r\n\r\n    reload(refresher) {\r\n\r\n        this.page = 1;\r\n        this.NewsFeed = [];\r\n        this.loadList('');\r\n\r\n        setTimeout(() => {\r\n            console.log('Async operation has ended');\r\n            refresher.complete();\r\n        }, 2000);\r\n    }\r\n\r\n\r\n    ionViewDidEnter() {\r\n        this.page = 1;\r\n        this.NewsFeed = [];\r\n        this.loadList('');\r\n\r\n    }\r\n\r\n    loadList(infiniteScroll?) {\r\n        this.NewsProv.get_all_news(this.page).subscribe(data => {\r\n            this.NewsFeed = this.NewsFeed.concat(data['data']);\r\n            this.maxPage = data.totalPage;\r\n        }, error => console.log('error mz wk: press \"F\"'), () => '')\r\n\r\n        if (infiniteScroll) {\r\n            infiniteScroll.complete();\r\n            console.log('page', this.page, 'max', this.maxPage)\r\n        }\r\n    }\r\n\r\n    loadMore(infiniteScroll) {\r\n        setTimeout(() => {\r\n            this.page++;\r\n            this.loadList(infiniteScroll)\r\n        }, 500);\r\n\r\n        if (this.page >= this.maxPage) {\r\n            infiniteScroll.enable(false);\r\n        }\r\n    }\r\n\r\n    detail(uid) {\r\n        this.navCtrl.push('NewsFeedDetailsPage',{\r\n            'uid': uid,\r\n        });\r\n    }\r\n\r\n\r\n    //effect\r\n    ngOnChanges(changes: { [propKey: string]: any }) {\r\n        if (changes.data && changes.data.currentValue) {\r\n            this.headerImage = changes.data.currentValue.headerImage;\r\n        }\r\n        this.subscribeToIonScroll();\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.subscribeToIonScroll();\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        this.subscribeToIonScroll();\r\n    }\r\n\r\n    isClassActive() {\r\n        return this.active;\r\n    }\r\n\r\n    subscribeToIonScroll() {\r\n        if (this.content != null && this.content.ionScroll != null) {\r\n            this.content.ionScroll.subscribe((d) => {\r\n                if (d.scrollTop < 100) {\r\n                    this.active = false;\r\n                    return;\r\n                }\r\n                this.active = true;\r\n            });\r\n        }\r\n    }\r\n\r\n    referenceTo(page){\r\n\r\n        if(page == 'ReservasiPage'){\r\n            if (this.profile) {\r\n                // auth to page\r\n                if(this.profile.pasien_id == -1){\r\n                    // Not Verified\r\n                }else if(this.profile.pasien_id > 0){\r\n                    // verified by clinic\r\n                }\r\n            } else {\r\n                // non auth\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { HomePage } from './home';\r\nimport { ElasticHeaderModule } from '../../components/elastic-header/elastic-header.module';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        HomePage,\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(HomePage),\r\n        ElasticHeaderModule,\r\n        ComponentsModule\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class HomePageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ElasticHeader } from './elastic-header';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ElasticHeader,\r\n    ],\r\n    exports: [\r\n        ElasticHeader\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class ElasticHeaderModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/elastic-header/elastic-header.module.ts","import { Directive, ElementRef, Renderer } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[elastic-header]'\r\n})\r\nexport class ElasticHeader {\r\n\r\n    scrollerHandle: any;\r\n    header: any;\r\n    headerHeight: any;\r\n    translateAmt: any;\r\n    scaleAmt: any;\r\n    scrollTop: any;\r\n    lastScrollTop: any;\r\n    ticking: any;\r\n\r\n    constructor(public element: ElementRef, public renderer: Renderer) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.scrollerHandle = this.element.nativeElement.getElementsByClassName('scroll-content')[0];\r\n        this.header = this.scrollerHandle.firstElementChild;\r\n        this.headerHeight = this.scrollerHandle.clientHeight;\r\n        this.ticking = false;\r\n\r\n        this.renderer.setElementStyle(this.header, 'webkitTransformOrigin', 'center bottom');\r\n\r\n        window.addEventListener('resize', () => {\r\n            this.headerHeight = this.scrollerHandle.clientHeight;\r\n        }, false);\r\n\r\n        this.scrollerHandle.addEventListener('scroll', () => {\r\n\r\n            if (!this.ticking) {\r\n                window.requestAnimationFrame(() => {\r\n                    this.updateElasticHeader();\r\n                });\r\n            }\r\n\r\n            this.ticking = true;\r\n\r\n        });\r\n\r\n    }\r\n\r\n    updateElasticHeader() {\r\n\r\n        this.scrollTop = this.scrollerHandle.scrollTop;\r\n\r\n        if (this.scrollTop >= 0) {\r\n            this.translateAmt = this.scrollTop / 2;\r\n            this.scaleAmt = 1;\r\n        } else {\r\n            this.translateAmt = 0;\r\n            this.scaleAmt = -this.scrollTop / this.headerHeight + 1;\r\n        }\r\n\r\n        this.renderer.setElementStyle(this.header, 'webkitTransform', 'translate3d(0,' + this.translateAmt + 'px,0) scale(' + this.scaleAmt + ',' + this.scaleAmt + ')');\r\n        this.ticking = false;\r\n\r\n    }\r\n\r\n}  \r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/elastic-header/elastic-header.ts"],"sourceRoot":""}